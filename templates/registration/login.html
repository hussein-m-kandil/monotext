{% extends 'base_generic.html' %}

{% block content %}

    <h1 class="mx-auto mt-5 text-center">Login</h1>
    <p class="mx-auto text-center">
        There are two accounts available to test the site with anyone of them.<br>
        The login inputs, for both account, should be filled automatically.<br>
        Mostly, all you need to do is to press login on the chosen account.<br>
        If the values doesn't filled automatically, get them from the page source.
    </p>

    {% if form.errors %}
        <p class="ms-5 text-danger">Your username and password didn't match. Please try again.</p>
    {% endif %}

    {% if next %}
        {% if user.is_authenticated %}
            <div id="next-url" style="display: none;">{{ next }}</div>
            <script>
                window.location.href = document.getElementById("next-url")?.innerText;
            </script>
        {% endif %}
    {% endif %}
<div class="d-flex flex-column flex-sm-row justify-content-between align-items-center">
    <div class="m-3">
        <h3 class="text-left my-2">Login as 'King':</h3>
        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <label class="text-left mt-2" for="username-1">Username:</label>
            <input type="text" name="username" autocapitalize="none" maxlength="150" 
                id="username-1" class="form-control" value="King" autofocus required>
            <label class="text-left mt-2" for="password-1">Password:</label>
            <input type="password" name="password" id="password-1" class="form-control" 
                value="django123" required>
            <input class="btn btn-outline-dark mt-2" type="submit" value="login">
            <input type="hidden" name="next" value="{{ next }}">
        </form>
    </div>
    <div class="m-3">
        <h3 class="text-left my-2">Login as 'Queen':</h3>
        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <label class="text-left mt-2" for="username-2">Username:</label>
            <input type="text" name="username" autocapitalize="none" maxlength="150" 
                id="username-2" class="form-control" value="Queen" required>
            <label class="text-left mt-2" for="password-2">Password:</label>
            <input type="password" name="password" id="password-2" class="form-control" 
                value="django123" required>
            <input class="btn btn-outline-dark mt-2" type="submit" value="login">
            <input type="hidden" name="next" value="{{ next }}">
        </form>
    </div>
</div>

{% endblock %}